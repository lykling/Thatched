{% extends "basic.html" %}
{% block head_ext %}
<script type="text/javascript" src="/static/js/csrf.js"></script>
<script type="text/javascript" src="/static/ckeditor/ckeditor/ckeditor.js"></script>
<style>
	@-webkit-keyframes scaleOut {
		0% {
			opacity: 1;
			-webkit-transform: scale(1);
		}
		100% {
			opacity: 0;
			-webkit-transform: scale(.5);
		}	
	}

	@-moz-keyframes scaleOut {
		0% {
			opacity: 1;
			-moz-transform: scale(1);
		}
		100% {
			opacity: 0;
			-moz-transform: scale(.5);
		}	
	}

	@-ms-keyframes scaleOut {
		0% {
			opacity: 1;
			-ms-transform: scale(1);
			}100% {
			opacity: 0;
			-ms-transform: scale(.5);
		}	
	}

	@-o-keyframes scaleOut {
		0% {
			opacity: 1;
			-o-transform: scale(1);
		}
		100% {
			opacity: 0;
			-o-transform: scale(.5);
		}	
	}

	@keyframes scaleOut {
		0% {
			opacity: 1;
			transform: scale(1);
		}
		100% {
			opacity: 0;
			transform: scale(.5);
		}	
	}

	.scaleOut {
		-webkit-animation-name: scaleOut;
		-moz-animation-name: scaleOut;
		-ms-animation-name: scaleOut;
		-o-animation-name: scaleOut;
		animation-name: scaleOut;
	}
	@-webkit-keyframes scaleIn {
		0% {
			opacity: 0;
			-webkit-transform: scale(.5);
		}	
		100% {
			opacity: 1;
			-webkit-transform: scale(1);
		}
	}

	@-moz-keyframes scaleIn {
		0% {
			opacity: 0;
			-moz-transform: scale(.5);
		}
		100% {
			opacity: 1;
			-moz-transform: scale(1);
		}
	}

	@-ms-keyframes scaleIn {
		0% {
			opacity: 0;
			-ms-transform: scale(.5);
		}
		100% {
			opacity: 1;
			-ms-transform: scale(1);
		}
	}

	@-o-keyframes scaleIn {
		0% {
			opacity: 0;
			-o-transform: scale(.5);
		}
		100% {
			opacity: 1;
			-o-transform: scale(1);
		}
	}

	@keyframes scaleIn {
		0% {
			opacity: 0;
			transform: scale(.5);
		}
		100% {
			opacity: 1;
			transform: scale(1);
		}
	}

	.scaleIn {
		-webkit-animation-name: scaleIn;
		-moz-animation-name: scaleIn;
		-ms-animation-name: scaleIn;
		-o-animation-name: scaleIn;
		animation-name: scaleIn;
	}
	.userprofile {
		display:			block;
		margin:				auto;
		padding:			0% 1% 0% 1%;
		width:				100%;
		height:				100%;
		position:			relative;
	}
	.profiletab {
		display:			block;
		float:				left;
		margin:				0px;
		padding:			0px;
		width:				19%;
		height:				300px;
		background:			rgba(255,255,255,1.0);
		position:			relative;
		background:			rgb(247, 247, 247);
		-webkit-box-shadow:	0pt 2px 5px rgba(105, 108, 109,  0.7),	0px 0px 8px 5px rgba(208, 223, 226, 0.4) inset;
		-moz-box-shadow:	0pt 2px 5px rgba(105, 108, 109,  0.7),	0px 0px 8px 5px rgba(208, 223, 226, 0.4) inset;
		box-shadow:			0pt 2px 5px rgba(105, 108, 109,  0.7),	0px 0px 8px 5px rgba(208, 223, 226, 0.4) inset;
		-webkit-box-shadow:	5px;
		-moz-border-radius:	5px 0px 0px 0px;
		border-radius:		5px 0px 0px 0px;
	}
	.currtab a {
		color:				rgba(139,139,139,0.7);
	}
	.profiletab ul {
		margin:				0px;
		padding:			10%;
	}
	.profiletab li {
		list-style-type:	none;
	}
	.profiletab a:link {
		text-decoration:	none;
		color:				rgba(0,0,0,1.0);
	}
	.profiletab a:active {
		text-decoration:	blink;
		color:				rgba(0,0,0,1.0);
	}
	.profiletab a:hover {
		text-decoration:	none;
		color:				rgba(255,255,255,1.0);
	}
	/*
	.profiletab a:visited {
		text-decoration:	blink;
		color:				rgba(0,0,0,1.0);
	}
	*/
	.formbox {
		display:			block;
		float:				left;
		margin:				0px;
		padding:			0px;
		width:				79%;
		background:			rgba(255,255,255,1.0);
		position:			relative;
		height:				300px;
		background:			rgb(247, 247, 247);
		-webkit-box-shadow:	0pt 2px 5px rgba(105, 108, 109,  0.7),	0px 0px 8px 5px rgba(208, 223, 226, 0.4) inset;
		-moz-box-shadow:	0pt 2px 5px rgba(105, 108, 109,  0.7),	0px 0px 8px 5px rgba(208, 223, 226, 0.4) inset;
		box-shadow:			0pt 2px 5px rgba(105, 108, 109,  0.7),	0px 0px 8px 5px rgba(208, 223, 226, 0.4) inset;
		-webkit-box-shadow:	5px;
		-moz-border-radius:	0px 5px 0px 0px;
		border-radius:		0px 5px 0px 0px;
	}
	.formbox textarea {
		resize:				none;
	}
	.formbox:after {
		content:			' ';
		display: block;
		width: 100%;
		height: 2px;
		margin-top: 10px;
		background: -moz-linear-gradient(left, rgba(147,184,189,0) 0%, rgba(147,184,189,0.8) 20%, rgba(147,184,189,1) 53%, rgba(147,184,189,0.8) 79%, rgba(147,184,189,0) 100%); 
		background: -webkit-gradient(linear, left top, right top, color-stop(0%,rgba(147,184,189,0)), color-stop(20%,rgba(147,184,189,0.8)), color-stop(53%,rgba(147,184,189,1)), color-stop(79%,rgba(147,184,189,0.8)), color-stop(100%,rgba(147,184,189,0))); 
		background: -webkit-linear-gradient(left, rgba(147,184,189,0) 0%,rgba(147,184,189,0.8) 20%,rgba(147,184,189,1) 53%,rgba(147,184,189,0.8) 79%,rgba(147,184,189,0) 100%); 
		background: -o-linear-gradient(left, rgba(147,184,189,0) 0%,rgba(147,184,189,0.8) 20%,rgba(147,184,189,1) 53%,rgba(147,184,189,0.8) 79%,rgba(147,184,189,0) 100%); 
		background: -ms-linear-gradient(left, rgba(147,184,189,0) 0%,rgba(147,184,189,0.8) 20%,rgba(147,184,189,1) 53%,rgba(147,184,189,0.8) 79%,rgba(147,184,189,0) 100%); 
		background: linear-gradient(left, rgba(147,184,189,0) 0%,rgba(147,184,189,0.8) 20%,rgba(147,184,189,1) 53%,rgba(147,184,189,0.8) 79%,rgba(147,184,189,0) 100%); 
	}
	#forminfo,
	#formsecurity {
		position:			absolute;
	}
	#forminfo {
		z-index:			22;
	}
	#formsecurity {
		z-index:			21;
		opacity:			0;
	}
	.submit {
		display:			block;
		float:				left;
		margin:				0px;
		padding:			0px;
		width:				98%;
		background:			rgb(247, 247, 247);
		-webkit-box-shadow:	0pt 2px 5px rgba(105, 108, 109,  0.7),	0px 0px 8px 5px rgba(208, 223, 226, 0.4) inset;
		-moz-box-shadow:	0pt 2px 5px rgba(105, 108, 109,  0.7),	0px 0px 8px 5px rgba(208, 223, 226, 0.4) inset;
		box-shadow:			0pt 2px 5px rgba(105, 108, 109,  0.7),	0px 0px 8px 5px rgba(208, 223, 226, 0.4) inset;
		-webkit-box-shadow:	5px;
		-moz-border-radius:	0px 0px 5px 5px;
		border-radius:		0px 0px 5px 5px;
	}
	.submit input[type="submit"] {
		display:			block;
		float:				right;
	}
	#info {
		display:			none;
	}
	#security {
		display:			none;
	}
	#info:target ~ #formbox #forminfo,
	#security:target ~ #formbox #formsecurity {
		z-index:			22;
		-webkit-animation-delay: .6s;
		-webkit-animation-timing-function: ease-in;
		-moz-animation-delay: .6s;
		-moz-animation-timing-function: ease-in;
		-o-animation-delay: .6s;
		-o-animation-timing-function: ease-in;
		-ms-animation-delay: .6s;
		-ms-animation-timing-function: ease-in;
		animation-delay: .6s;
		animation-timing-function: ease-in;
		-webkit-animation-name: scaleIn;
		-moz-animation-name: scaleIn;
		-ms-animation-name: scaleIn;
		-o-animation-name: scaleIn;
		animation-name: scaleIn;
	}
	#info:target ~ #formbox #formsecurity,
	#security:target ~ #formbox #forminfo {
		-webkit-animation-timing-function: ease-out;
		-moz-animation-timing-function: ease-out;
		-o-animation-timing-function: ease-out;
		-ms-animation-timing-function: ease-out;
		animation-timing-function: ease-out;
		-webkit-animation-name: scaleOut;
		-moz-animation-name: scaleOut;
		-ms-animation-name: scaleOut;
		-o-animation-name: scaleOut;
		animation-name: scaleOut;
	}
	.animate{
		-webkit-animation-duration: 0.5s;
		-webkit-animation-fill-mode: both;

		-moz-animation-duration: 0.5s;
		-moz-animation-fill-mode: both;

		-o-animation-duration: 0.5s;
		-o-animation-fill-mode: both;

		-ms-animation-duration: 0.5s;
		-ms-animation-fill-mode: both;

		animation-duration: 0.5s;
		animation-fill-mode: both;
	}
	.form {
		height:				95%;
		width:				90%;
		padding:			10px;
		margin:				0px auto 0px auto;
		left:				10px;
		top:				10px;
	}
</style>
<script>
	function currtab(id) {
		$("#tab1").removeClass("currtab").delay(10);
		$("#tab2").removeClass("currtab").delay(10);
		$(id).removeClass("currtab").delay(10).queue(function(next){
			$(this).addClass("currtab");
			next();
		});
	}
</script>
{% endblock %}
{% block body %}
{% if errors %}
<ul class="">
	{% for error in errors %}
	<li>{{ error }}</li>
	{% endfor %}
</ul>
{% else %}
<div class="blocks">
	<div id="profile" class="box">
		<form class="userprofile" enctype="multipart/form-data" action="/profile/" method="post">
			{% csrf_token %}
			<div class="profiletab">
				<ul>
					<li id="tab1" class="currtab" onclick="currtab('#tab1')"><a class="" href="#info">info</a></li>
					<li id="tab2" class="" onclick="currtab('#tab2')"><a class="" href="#security">security</a></li>
				</ul>
			</div>
			<a id="info"></a>
			<a id="security"></a>
			<div id="formbox" class="formbox">
				<div id="forminfo" class="animate form">
					<div class="avatar">
						{{ form.avatar.errors }}
						{{ form.avatar }}
					</div>
					<div class="nickname">
						{{ form.nickname.errors }}
						{{ form.nickname }}
					</div>
					<div class="realname">
						{{ form.realname.errors }}
						{{ form.realname }}
					</div>
					<div class="sns">
						{{ form.sns.errors }}
						{{ form.sns }}
					</div>
					<div class="intro">
						{{ form.intro.errors }}
						{{ form.intro }}
					</div>
				</div>
				<div id="formsecurity" class="animate form">
					<input type="password">
				</div>
			</div>
			<div class="submit">
				<input type="submit" value="save" />
			</div>
		</form>
	</div>
	<div id="user" class="box">
		<div class="userinfo">
			<ul>
				<li>
				<img src="/static/media/avatar/{{ loginuser.uid }}.png.p"></img>
				{{ loginuser.profile.nickname }}
				</li>
				<hr />
				<li>
				{{ loginuser.profile.intro }}
				</li>
			</ul>
		</div>
	</div>
</div>
{% endif %}
{% endblock %}
